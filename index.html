
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Test</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDBHRLu_F4uH6Jp9FCPEcrfoKA9uItESD4",
            authDomain: "collection-sorter.firebaseapp.com",
            databaseURL: "https://collection-sorter-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "collection-sorter",
            storageBucket: "collection-sorter.firebasestorage.app",
            messagingSenderId: "102433980397",
            appId: "1:102433980397:web:86e118cfdb44fdfb5e71e4",
            measurementId: "G-K6EZQNEX61"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Test reading and writing to Firebase
        document.addEventListener('DOMContentLoaded', function () {
            const statusDisplay = document.getElementById('status-display');
            const toggleButton = document.getElementById('toggle-button');

            // Reference to a test record in Firebase
            const testRef = database.ref('test/status');

            // Listen for changes in Firebase
            testRef.on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    statusDisplay.textContent = `Current status: ${data}`;
                } else {
                    statusDisplay.textContent = 'No data available';
                }
            });

            // Toggle status and write to Firebase
            toggleButton.addEventListener('click', () => {
                testRef.once('value', (snapshot) => {
                    const currentStatus = snapshot.val();
                    const newStatus = currentStatus === 'Simon' ? 'Lewis' : 'Simon';
                    testRef.set(newStatus);
                });
            });
        });
    </script>
</head>
<body>
    <h1>Firebase Minimal Test</h1>
    <p id="status-display">Loading...</p>
    <button id="toggle-button">Toggle Status</button>
</body>
</html>
